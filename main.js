(()=>{"use strict";var t=document.querySelector(".form"),e=document.querySelector(".form__field"),s=document.querySelector(".list");document.querySelector(".list__item_empty"),t.addEventListener("submit",(function(t){t.preventDefault();var s=e.value,o={id:Date.now(),text:s,success:!1};n.push(o),i(),a(o),e.value="",e.focus(),c()})),s.addEventListener("click",(function(t){if("delete"===t.target.dataset.action){var e=t.target.closest(".list__item"),s=Number(e.id),a=n.findIndex((function(t){return t.id===s}));n.splice(a,1),i(),e.remove(),c()}})),s.addEventListener("click",(function(t){if("success"===t.target.dataset.action){var e=t.target.closest(".list__item"),s=Number(e.id),c=n.find((function(t){return t.id===s}));c.success=!c.success,i(),e.querySelector(".list__item-text").classList.toggle("list__item-text_success"),e.querySelector(".button_success").classList.toggle("button_transparent")}}));var n=[];function c(){if(0===n.length&&s.insertAdjacentHTML("afterbegin",'<li class="list__item list__item_empty">\n                                <span class="list__item-text list__item-text_empty">Список дел пуст</span>\n                           </li>'),n.length>0){var t=document.querySelector(".list__item_empty");t&&t.remove()}}function i(){localStorage.setItem("tasks",JSON.stringify(n))}function a(t){var e=t.success?"list__item-text list__item-text_success":"list__item-text",n=t.success?"button button_success button_transparent":"button button_success",c="<li id='".concat(t.id,'\' class="list__item">\n                        <p class="').concat(e,'">').concat(t.text,'</p>\n                        <div class="list__btn-group">\n                            <button type="button" data-action=\'success\' class="').concat(n,'"></button>\n                            <button type="button" data-action=\'delete\' class="button button_delete"></button>\n                        </div>\n                      </li>');s.insertAdjacentHTML("beforeend",c)}localStorage.getItem("tasks")&&(n=JSON.parse(localStorage.getItem("tasks"))).forEach((function(t){return a(t)})),c()})();